<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">


<ui:composition template="/template/layoutUser.xhtml">
	<f:metadata>
		<f:viewParam name="id" value="#{eventViewController.id}" />
		<f:event type="preRenderView" listener="#{eventViewController.loadData}" />
	</f:metadata>

	<ui:define name="head">
		<title>TinderDogs - Event</title>
		<h:outputStylesheet name="entry.css" library="css" />
	</ui:define>

	<ui:define name="content">
		<div class="content-block">

			<h:graphicImage class="event-creator-img-right" value="/img/profile/#{eventViewController.profile.image}"/>
			<div class="event-content">
				<h3 style="margin-top: 6px">#{eventViewController.event.title}</h3>
				<p class="event-creator">#{eventViewController.profile.name}</p>
				<p style="margin-top: 20px; font-weight: bold; font-size: 14px;">5
					km away</p>
				<p class="vspace">#{eventViewController.event.description}</p>
				<p style="margin-top: 20px;" />


				<h4>Dogs</h4>
				<p style="">
					<ui:repeat var="d" value="#{eventViewController.dogs}">
						<h:graphicImage class="event-dog-img"
							value="/img/dog/#{d.image}" />
					</ui:repeat>
				</p>

				<h4>Humans</h4>
				<p style="">
					<ui:repeat var="p" value="#{eventViewController.profiles}">
						<h:graphicImage class="event-user-join-img"
							value="/img/dog/#{p.image}" />
					</ui:repeat>
				</p>

				<p style="margin-top: 20px;" />
				<div style="margin-left: -8px;">
					<a href="#" class="icon-link" style="width: 64px;"><i
						class="material-icons">view_day</i><span>View</span></a> <a href="#"
						class="icon-link" style="width: 64px;"><i
						class="material-icons" style="font-size: 24px;">done</i><span>Join</span></a>
				</div>

			</div>
			<div class="clear" />



		</div>


		<div class="content-block">
			<div class="event-content">

				<h2>Comments</h2>
				<h:panelGroup id="comment">
					<ui:repeat var="comment" value="#{eventViewController.comments}">


						<div class="event-comment-wrapper">

							<h:outputText class="event-comment-date"
								value="#{comment.date}">
								<f:convertDateTime pattern="yyyy. MM. dd. ' - ' HH:mm"
									timeZone="EST" type="date" />
							</h:outputText>

							<h:graphicImage class="event-comment-img"
								value="/img/profile/#{eventViewController.profile.image}" />

							<div class="event-comment-author">#{comment.userId}</div>
							<div class="event-comment">#{comment.comment}</div>
						</div>
						<div class="clear" />
					</ui:repeat>
				</h:panelGroup>



				<h:form>
					<h:inputTextarea class="event-comment-input" rows="7" 
					value="#{eventViewController.comment.comment}" />

					<br />

					<h:commandLink class="icon-link action-button"
						action="#{eventViewController.saveData}">
						<i class="material-icons">done</i>
						<span>Post</span>
					</h:commandLink>

				</h:form>
			</div>
		</div>
	</ui:define>

</ui:composition>
</html>